<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>2. 演示 Axios 发送 JSON 格式的参数值给服务器端</title>
    <script language="JavaScript" src="js/vue.js"></script>
    <script language="JavaScript" src="js/axios.js"></script>
    <script language="JavaScript">
        window.onload = function () {
            let vue = new Vue({
                el: "#div1",

                data: {
                    name: "MYXH",
                    password: "520.ILY!"
                },

                methods: {
                    axios2: function () {
                        axios({
                            method: "POST",
                            url: "axios2.do",
                            data: {
                                name: vue.name,
                                password: vue.password
                            }
                        })
                            .then(function (value) {
                                // 成功响应时执行的回调, value.data 可以获取到服务器响应内容
                                console.log(value);
                            })
                            .catch(function (reason) {
                                // 有异常时执行的回调, reason.response.data 可以获取到响应的内容, reason.message 和 reason.stack 可以查看错误的信息
                                console.log(reason)
                            });
                    }
                },
            });
        }
    </script>
</head>

<body>
<h1>
    2. 演示 Axios 发送 JSON 格式的参数值给服务器端
</h1>

<div id="div1">
    <label>
        用户名称：<input type="text" v-model:type="name"><br>
        用户密码：<input type="password" v-model:type="password"><br>
        <input type="button" value="发送 JSON 格式的参数值的异步请求" @click="axios2">
    </label>
</div>
</body>
</html>